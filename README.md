# 自动密码生成器

这是一个多平台密码生成工具，提供 Chrome 扩展和油猴脚本两种使用方式，用于自动检测网页上的密码输入框，并提供密码生成、自动填充和复制功能。

## 两种使用方式

### 1. Chrome 扩展版本
- 适合 Chrome/Edge 等基于 Chromium 的浏览器
- 需要手动安装扩展程序
- 功能更强大，支持后台运行

### 2. 油猴脚本版本
- 适合支持 Tampermonkey 的浏览器（Firefox、Chrome、Edge 等）
- 安装简单，一键部署
- 轻量级，仅在前端运行
- Greasy Fork 地址：[自动密码生成器](https://greasyfork.org/zh-CN/scripts/558418-%E8%87%AA%E5%8A%A8%E5%AF%86%E7%A0%81%E7%94%9F%E6%88%90%E5%99%A8)

## 项目功能

- 🔍 **自动检测密码输入框**：当用户聚焦到密码输入框时，扩展会自动激活
- 🔐 **密码生成**：根据用户设置生成安全的随机密码
- 📋 **一键复制**：快速复制生成的密码到剪贴板
- 🚀 **自动填充**：将生成的密码直接填充到当前密码输入框
- ⚙️ **自定义设置**：可选择是否包含特殊字符
- 🚫 **黑名单管理**：支持将特定网站加入黑名单，不再提示生成密码

## 文件结构及功能说明

### Chrome 扩展文件

#### manifest.json
- **作用**：扩展的配置文件，定义了扩展的基本信息和权限
- **主要功能**：
  - 声明扩展名称、版本、描述
  - 申请所需权限（storage、scripting、activeTab、clipboardWrite）
  - 定义后台脚本和内容脚本
  - 设置扩展图标和弹出窗口

#### background.js
- **作用**：后台服务脚本，处理扩展的核心逻辑
- **主要功能**：
  - 初始化默认设置
  - 监听和处理来自内容脚本和弹出窗口的消息
  - 生成随机密码
  - 管理黑名单网站
  - 保存和读取用户设置
  - 处理自动填充请求

#### content.js
- **作用**：内容脚本，注入到网页中检测密码输入框
- **主要功能**：
  - 扫描页面上的密码输入框（支持多语言关键词）
  - 监听密码输入框的焦点事件
  - 与后台脚本通信
  - 接收并执行自动填充命令
  - 使用 MutationObserver 监视动态内容

#### options.html
- **作用**：扩展的弹出窗口界面
- **主要功能**：
  - 显示生成的密码
  - 提供自动填充、复制、重新生成按钮
  - 设置是否包含特殊字符的选项
  - 添加当前网站到黑名单
  - 访问黑名单管理页面的链接

#### options.js
- **作用**：弹出窗口的交互逻辑脚本
- **主要功能**：
  - 初始化弹出窗口界面
  - 处理按钮点击事件（自动填充、复制、重新生成）
  - 保存和应用用户设置
  - 管理黑名单添加功能

### 黑名单管理

#### blacklist_options.html
- **作用**：黑名单管理页面界面
- **主要功能**：
  - 显示当前被屏蔽的网站列表
  - 提供移除黑名单项目的按钮
  - 显示空列表时的提示信息

#### blacklist_options.js
- **作用**：黑名单管理页面的交互逻辑
- **主要功能**：
  - 加载并渲染黑名单列表
  - 处理移除黑名单项目的请求
  - 更新列表显示

### 资源文件

#### style.css
- **作用**：扩展界面的样式文件（项目中的样式是内联在 HTML 中的）

#### icons/ 目录
- **icon16.png**：16x16 像素图标
- **icon48.png**：48x48 像素图标
- **icon128.png**：128x128 像素图标
- 这些图标用于扩展在不同场景下的显示

### 油猴脚本文件

#### password-generator.user.js
- **作用**：完整的油猴脚本文件，包含所有功能
- **主要功能**：
  - 自动检测密码输入框（支持多语言关键词）
  - 在密码框旁边显示钥匙图标按钮
  - 点击图标自动生成、填充并复制密码
  - 通过油猴菜单访问设置面板
  - 密码生成器设置面板（密码长度、是否包含特殊字符）
  - 黑名单管理功能（将特定网站加入/移除黑名单）
  - 使用多种方法确保复制到剪贴板成功
  - 响应式设计，适配不同网站

## 使用方法

### Chrome 扩展使用方法

1. **安装扩展**：
   - 打开 Chrome 浏览器的扩展管理页面（chrome://extensions/）
   - 开启"开发者模式"
   - 点击"加载已解压的扩展程序"，选择本项目文件夹

2. **使用扩展**：
   - 访问任何包含密码输入框的网站
   - 点击密码输入框，扩展图标会显示绿色"PW"徽章
   - 点击扩展图标打开密码生成器
   - 使用"自动填充"、"复制"或"换一个"按钮操作密码

3. **管理设置**：
   - 在弹出窗口中勾选/取消"包含特殊字符"
   - 点击"此网站不再提示"将网站加入黑名单
   - 点击"管理黑名单网站"查看和管理黑名单

### 油猴脚本使用方法

1. **安装油猴扩展**：
   - 根据你的浏览器安装 Tampermonkey 扩展
   - Chrome：从 Chrome 网上应用店安装
   - Firefox：从 Firefox 附加组件商店安装
   - Edge：从 Edge 加载项商店安装

2. **安装脚本**（推荐方式 - Greasy Fork 一键安装）：
   - 访问 Greasy Fork 页面：[自动密码生成器](https://greasyfork.org/zh-CN/scripts/558418-%E8%87%AA%E5%8A%A8%E5%AF%86%E7%A0%81%E7%94%9F%E6%88%90%E5%99%A8)
   - 点击绿色的"安装此脚本"按钮
   - 在弹出的油猴安装页面中点击"安装"确认

   **手动安装方式**：
   - 打开 `password-generator.user.js` 文件
   - 复制全部代码
   - 点击油猴图标，选择"添加新脚本"
   - 粘贴代码并保存（Ctrl+S）
   - 或者直接打开 `password-generator.user.js` 文件，油猴会自动提示安装

3. **使用脚本**：
   - 访问任何包含密码输入框的网站
   - 点击密码输入框，右侧会出现绿色钥匙图标
   - 点击钥匙图标即可自动生成并填充密码，同时复制到剪贴板
   - 右键点击油猴图标，可以通过菜单访问更多功能：
     - "打开设置"：配置密码生成选项
     - "生成并复制密码"：直接生成密码复制
     - "将当前网站加入黑名单"：屏蔽当前网站

4. **管理设置**：
   - 通过油猴菜单打开设置面板
   - 调整密码长度（8-64位）
   - 选择是否包含特殊字符
   - 管理黑名单网站

## 技术特点

### Chrome 扩展
- **Manifest V3**：使用最新的 Chrome 扩展 API
- **跨语言支持**：支持多种语言的密码输入框关键词
- **动态检测**：使用 MutationObserver 实时监测页面变化
- **安全存储**：使用 Chrome Storage API 安全存储设置和黑名单
- **响应式设计**：弹出窗口采用现代化 UI 设计

### 油猴脚本
- **无依赖运行**：纯 JavaScript 实现，无需额外依赖
- **跨浏览器兼容**：支持所有主流浏览器的油猴扩展
- **多种复制方法**：确保在不同环境下都能成功复制
- **实时检测**：自动识别动态加载的密码输入框
- **内联样式**：避免样式冲突，适配各种网站

## 权限说明

### Chrome 扩展权限

- `storage`：存储用户设置和黑名单
- `scripting`：在网页中注入内容脚本
- `activeTab`：获取当前活动标签页信息
- `clipboardWrite`：将生成的密码复制到剪贴板

### 油猴脚本权限
- `GM_setValue`：存储用户设置和黑名单
- `GM_getValue`：读取用户设置和黑名单
- `GM_setClipboard`：复制密码到剪贴板
- `GM_registerMenuCommand`：注册油猴菜单命令
- `GM_addStyle`：注入样式

## 更新日志

### v2.2 (2025-12-09)
- 添加 Greasy Fork 一键安装地址
- 更新油猴脚本信息，添加 MIT 许可证声明
- 完善 README.md 文档结构，增加开源协议说明
- 创建 LICENSE 文件，采用 MIT 开源协议

### v2.1 (2025-12-09)
- 新增油猴脚本版本（password-generator.user.js）
- 修复油猴脚本复制到剪贴板失败的问题
- 实现多种复制方法降级机制
- 优化密码检测算法，支持更多语言
- 改进 UI 交互，提升用户体验

### v2.0 (2025-12-09)
- 升级到 Manifest V3
- 优化密码检测算法
- 改进用户界面设计
- 增强黑名单管理功能

## 开源协议

本项目采用 [MIT License](https://choosealicense.com/licenses/mit/) 开源协议。

MIT 许可证是一项简单的许可证，允许您自由地：
- ✅ 使用、复制、修改和分发本软件
- ✅ 用于商业目的
- ✅ 私人使用

唯一的限制是：
- ⚠️ 软件按"原样"提供，不提供任何明示或暗示的担保
- ⚠️ 作者或版权持有人不承担任何责任

详细信息请参见 [LICENSE](LICENSE) 文件。